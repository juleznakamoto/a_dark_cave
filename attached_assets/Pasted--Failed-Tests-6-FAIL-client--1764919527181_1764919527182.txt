
⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯ Failed Tests 6 ⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯

 FAIL  client/src/game/save.comprehensive.test.ts > Save Game System - Comprehensive Tests > 2. Multi-Device Conflicts > should detect when cloud save is newer than local save
AssertionError: expected undefined to be 2000 // Object.is equality

- Expected: 
2000

+ Received: 
undefined

 ❯ client/src/game/save.comprehensive.test.ts:227:32
    225| 
    226|       const loaded = await loadGame();
    227|       expect(loaded?.playTime).toBe(2000);
       |                                ^
    228|     });
    229| 

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[1/6]⎯

 FAIL  client/src/game/save.comprehensive.test.ts > Save Game System - Comprehensive Tests > 3. Offline Progress Overwrite > should not lose progress when going from offline to online
AssertionError: expected undefined to be 5000 // Object.is equality

- Expected: 
5000

+ Received: 
undefined

 ❯ client/src/game/save.comprehensive.test.ts:277:32
    275| 
    276|       const loaded = await loadGame();
    277|       expect(loaded?.playTime).toBe(5000);
       |                                ^
    278|     });
    279| 

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[2/6]⎯

 FAIL  client/src/game/save.comprehensive.test.ts > Save Game System - Comprehensive Tests > 3. Offline Progress Overwrite > should preserve offline progress across browser sessions
AssertionError: expected undefined to be 3000 // Object.is equality

- Expected: 
3000

+ Received: 
undefined

 ❯ client/src/game/save.comprehensive.test.ts:311:32
    309|       // Simulate new session - load from IndexedDB
    310|       const loaded = await loadGame();
    311|       expect(loaded?.playTime).toBe(3000);
       |                                ^
    312|     });
    313|   });

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[3/6]⎯

 FAIL  client/src/game/save.comprehensive.test.ts > Save Game System - Comprehensive Tests > 4. Data Corruption and Validation > should handle corrupted cooldownDurations gracefully
AssertionError: expected undefined to be defined
 ❯ client/src/game/save.comprehensive.test.ts:330:41
    328| 
    329|       const loaded = await loadGame();
    330|       expect(loaded?.cooldownDurations).toBeDefined();
       |                                         ^
    331|     });
    332| 

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[4/6]⎯

 FAIL  client/src/game/save.comprehensive.test.ts > Save Game System - Comprehensive Tests > 6. Referral System Integration > should not process already claimed referrals
AssertionError: expected undefined to be 100 // Object.is equality

- Expected: 
100

+ Received: 
undefined

 ❯ client/src/game/save.comprehensive.test.ts:455:38
    453| 
    454|       const loaded = await loadGame();
    455|       expect(loaded?.resources.gold).toBe(100);
       |                                      ^
    456|     });
    457|   });

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[5/6]⎯

 FAIL  client/src/game/save.comprehensive.test.ts > Save Game System - Comprehensive Tests > 7. PlayTime Tracking > should preserve playTime through save/load cycle
AssertionError: expected undefined to be 12345 // Object.is equality

- Expected: 
12345

+ Received: 
undefined

 ❯ client/src/game/save.comprehensive.test.ts:466:32
    464| 
    465|       const loaded = await loadGame();
    466|       expect(loaded?.playTime).toBe(12345);
       |                                ^
    467|     });
    468| 

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[6/6]⎯


 Test Files  1 failed | 11 passed (12)
      Tests  6 failed | 146 passed (152)
   Start at  07:25:11
   Duration  3.21s (transform 1.17s, setup 0ms, import 1.84s, tests 2.31s, environment 2ms)

 FAIL  Tests failed. Watching for file changes...
       press h to show help, press q to quit
