
⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯ Failed Tests 14 ⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯

 FAIL  shared/shopItems.test.ts > Shop Items Configuration > Bundle Configuration > should have bundle items in shop
AssertionError: expected undefined to be defined
 ❯ shared/shopItems.test.ts:102:42
    100|   describe('Bundle Configuration', () => {
    101|     it('should have bundle items in shop', () => {
    102|       expect(SHOP_ITEMS.champion_bundle).toBeDefined();
       |                                          ^
    103|       expect(SHOP_ITEMS.champion_bundle.category).toBe('bundle');
    104|     });

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[1/14]⎯

 FAIL  shared/shopItems.test.ts > Shop Items Configuration > Bundle Configuration > should have valid bundle structure
TypeError: Cannot read properties of undefined (reading 'bundleComponents')
 ❯ shared/shopItems.test.ts:108:21
    106|     it('should have valid bundle structure', () => {
    107|       const bundle = SHOP_ITEMS.champion_bundle;
    108|       expect(bundle.bundleComponents).toBeDefined();
       |                     ^
    109|       expect(Array.isArray(bundle.bundleComponents)).toBe(true);
    110|       expect(bundle.bundleComponents!.length).toBeGreaterThan(0);

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[2/14]⎯

 FAIL  shared/shopItems.test.ts > Shop Items Configuration > Bundle Configuration > should reference valid component items
TypeError: Cannot read properties of undefined (reading 'bundleComponents')
 ❯ shared/shopItems.test.ts:115:14
    113|     it('should reference valid component items', () => {
    114|       const bundle = SHOP_ITEMS.champion_bundle;
    115|       bundle.bundleComponents!.forEach(componentId => {
       |              ^
    116|         expect(SHOP_ITEMS[componentId]).toBeDefined();
    117|       });

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[3/14]⎯

 FAIL  shared/shopItems.test.ts > Shop Items Configuration > Bundle Configuration > should have champion bundle with correct components
TypeError: Cannot read properties of undefined (reading 'bundleComponents')
 ❯ shared/shopItems.test.ts:122:21
    120|     it('should have champion bundle with correct components', () => {
    121|       const bundle = SHOP_ITEMS.champion_bundle;
    122|       expect(bundle.bundleComponents).toContain('gold_5000');
       |                     ^
    123|       expect(bundle.bundleComponents).toContain('great_feast_1');
    124|     });

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[4/14]⎯

 FAIL  shared/shopItems.test.ts > Shop Items Configuration > Bundle Configuration > should have discounted bundle pricing
TypeError: Cannot read properties of undefined (reading 'originalPrice')
 ❯ shared/shopItems.test.ts:128:21
    126|     it('should have discounted bundle pricing', () => {
    127|       const bundle = SHOP_ITEMS.champion_bundle;
    128|       expect(bundle.originalPrice).toBeDefined();
       |                     ^
    129|       expect(bundle.originalPrice).toBeGreaterThan(bundle.price);
    130|       

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[5/14]⎯

 FAIL  shared/shopItems.test.ts > Shop Items Configuration > Bundle Configuration > should allow bundle to be purchased multiple times
TypeError: Cannot read properties of undefined (reading 'canPurchaseMultipleTimes')
 ❯ shared/shopItems.test.ts:140:41
    138| 
    139|     it('should allow bundle to be purchased multiple times', () => {
    140|       expect(SHOP_ITEMS.champion_bundle.canPurchaseMultipleTimes).toBe(true);
       |                                         ^
    141|     });
    142| 

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[6/14]⎯

 FAIL  shared/shopItems.test.ts > Shop Items Configuration > Bundle Configuration > should have bundle rewards that match components
TypeError: Cannot read properties of undefined (reading 'rewards')
 ❯ shared/shopItems.test.ts:147:21
    145|       
    146|       // Bundle should have combined rewards
    147|       expect(bundle.rewards.resources?.gold).toBe(5000);
       |                     ^
    148|       expect(bundle.rewards.feastActivations).toBe(1);
    149|     });

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[7/14]⎯

 FAIL  shared/shopItems.test.ts > Shop Items Configuration > Bundle Configuration > should have appropriate activation message
TypeError: Cannot read properties of undefined (reading 'activationMessage')
 ❯ shared/shopItems.test.ts:153:21
    151|     it('should have appropriate activation message', () => {
    152|       const bundle = SHOP_ITEMS.champion_bundle;
    153|       expect(bundle.activationMessage).toBeDefined();
       |                     ^
    154|       expect(bundle.activationMessage).toContain('Bundle');
    155|     });

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[8/14]⎯

 FAIL  shared/shopItems.test.ts > Shop Items Configuration > Bundle Configuration > should have bundle symbol and color
TypeError: Cannot read properties of undefined (reading 'symbol')
 ❯ shared/shopItems.test.ts:159:21
    157|     it('should have bundle symbol and color', () => {
    158|       const bundle = SHOP_ITEMS.champion_bundle;
    159|       expect(bundle.symbol).toBeTruthy();
       |                     ^
    160|       expect(bundle.symbolColor).toBeTruthy();
    161|     });

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[9/14]⎯

 FAIL  shared/shopItems.test.ts > Shop Items Configuration > Bundle Configuration > should not have conflicting reward types in bundle
TypeError: Cannot read properties of undefined (reading 'rewards')
 ❯ shared/shopItems.test.ts:168:21
    166|       // Bundles should not grant tools/weapons/blessings directly
    167|       // since components are granted individually
    168|       expect(bundle.rewards.tools).toBeUndefined();
       |                     ^
    169|       expect(bundle.rewards.weapons).toBeUndefined();
    170|       expect(bundle.rewards.blessings).toBeUndefined();

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[10/14]⎯

 FAIL  shared/shopItems.test.ts > Shop Items Configuration > Bundle Configuration > should have component items that can be purchased individually
TypeError: Cannot read properties of undefined (reading 'bundleComponents')
 ❯ shared/shopItems.test.ts:176:14
    174|       const bundle = SHOP_ITEMS.champion_bundle;
    175|       
    176|       bundle.bundleComponents!.forEach(componentId => {
       |              ^
    177|         const component = SHOP_ITEMS[componentId];
    178|         expect(component.canPurchaseMultipleTimes).toBe(true);

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[11/14]⎯

 FAIL  shared/shopItems.test.ts > Shop Items Configuration > Bundle Configuration > should have bundle description mentioning components
TypeError: Cannot read properties of undefined (reading 'description')
 ❯ shared/shopItems.test.ts:184:21
    182|     it('should have bundle description mentioning components', () => {
    183|       const bundle = SHOP_ITEMS.champion_bundle;
    184|       expect(bundle.description.toLowerCase()).toContain('gold');
       |                     ^
    185|       expect(bundle.description.toLowerCase()).toContain('feast');
    186|     });

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[12/14]⎯

 FAIL  shared/shopItems.test.ts > Shop Items Configuration > Bundle Configuration > should validate bundle pricing formula
TypeError: Cannot read properties of undefined (reading 'originalPrice')
 ❯ shared/shopItems.test.ts:199:21
    197|         (feast1.originalPrice || feast1.price);
    198|       
    199|       expect(bundle.originalPrice).toBe(expectedOriginalPrice);
       |                     ^
    200|     });
    201| 

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[13/14]⎯

 FAIL  shared/shopItems.test.ts > Shop Items Configuration > Bundle Configuration > should have bundle with reasonable discount percentage
TypeError: Cannot read properties of undefined (reading 'originalPrice')
 ❯ shared/shopItems.test.ts:204:40
    202|     it('should have bundle with reasonable discount percentage', () => {
    203|       const bundle = SHOP_ITEMS.champion_bundle;
    204|       const discountPercent = ((bundle.originalPrice! - bundle.price) / bundle.originalPri…
       |                                        ^
    205|       
    206|       // Should have at least 40% discount to make bundle attractive

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[14/14]⎯


 Test Files  1 failed | 8 passed (9)
      Tests  14 failed | 44 passed (58)
   Start at  08:14:53
   Duration  3.12s (transform 1.60s, setup 0ms, import 1.64s, tests 1.95s, environment 2ms)

 FAIL  Tests failed. Watching for file changes...
       press h to show help, press q to quit
