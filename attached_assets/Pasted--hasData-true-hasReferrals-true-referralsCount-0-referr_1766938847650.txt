{hasData: true, hasReferrals: true, referralsCount: 0, referrals: Array(0), playTime: 3737335,¬†‚Ä¶}
logger.ts:33 v279Z [LOAD] üîç Comparing local and cloud saves: {cloudPlayTime: 3737335, localPlayTime: 3737335, cloudTimestamp: 1766938808659, localTimestamp: 1766938808493}
logger.ts:33 v279Z [LOAD] ‚òÅÔ∏è Cloud save is newer - using cloud save
logger.ts:33 v279Z [REFERRAL] üîç Processing unclaimed referrals... {hasUser: true, hasReferrals: true, referralsCount: 0, referrals: Array(0)}
logger.ts:33 v279Z [REFERRAL] ‚è≠Ô∏è Skipping - no user or no referrals
logger.ts:33 v279Z [LOAD] ‚úÖ Cloud save loaded and synced locally
logger.ts:33 v279Z [GAME] Game loaded from save
logger.ts:33 v279Z [IDLE MODE INIT] Dialog open check: {dialogOpen: false, isActive: false, idleModeState: {‚Ä¶}}
logger.ts:33 v279Z [GAME CONTAINER] Full game dialog closed, state: {BTP: 0, isPaused: false, isPausedPreviously: false}
logger.ts:33 v279Z [VERSION] Initializing version check from GameContainer
logger.ts:33 v279Z [TIMED EVENT PANEL] Merchant event, using merchantTrades from state: {eventId: 'merchant', choicesCount: 4, choices: Array(4)}
logger.ts:33 v279Z [MERCHANT TRADES] Clearing merchant trades (deactivating timed tab)
logger.ts:33 v279Z [TIMED EVENT PANEL] No event, returning empty choices
logger.ts:33 v279Z [MERCHANT TRADES] Generating merchant choices: {knowledge: 8, discount: '0%', numBuyTrades: 2, numSellTrades: 2, filteredBuyTradesCount: 9}
logger.ts:33 v279Z [MERCHANT TRADES] Final choices generated: {totalChoices: 4, buyTrades: 2, sellTrades: 2, choices: Array(4)}
logger.ts:33 v279Z [MERCHANT TRADES] Setting timed event tab with merchant trades: {eventId: 'merchant', choicesCount: 4, duration: 240000, expiryTime: 1766939061473}
logger.ts:33 v279Z [TIMED EVENT PANEL] Merchant event, using merchantTrades from state: {eventId: 'merchant', choicesCount: 4, choices: Array(4)}
logger.ts:33 v279Z [TIMED EVENT PANEL] handleChoice called: {choiceId: 'buy_leather_50_very_early', isMerchantEvent: true, eventChoices: Array(4), merchantTrades: {‚Ä¶}}
state.ts:1380 [STATE] applyEventChoice called: {choiceId: 'buy_leather_50_very_early', eventId: 'merchant', hasCurrentLogEntry: true, currentLogEntryChoices: Array(4), merchantTradesInState: {‚Ä¶},¬†‚Ä¶}
logger.ts:33 v279Z [EVENT MANAGER] applyEventChoice called: {choiceId: 'buy_leather_50_very_early', eventId: 'merchant', hasCurrentLogEntry: true, stateKeys: Array(162), hasMerchantTrades: true,¬†‚Ä¶}choiceId: "buy_leather_50_very_early"eventId: "merchant"hasCurrentLogEntry: truehasMerchantTrades: truemerchantTradesKeys: (2)¬†['choices', 'purchasedIds']stateKeys: (162)¬†['gameId', 'playTime', 'startTime', 'resources', 'stats', 'boostMode', 'flags', 'schematics', 'tools', 'weapons', 'clothing', 'relics', 'fellowship', 'blessings', 'books', 'buildings', 'villagers', 'story', 'hoveredTooltips', 'damagedBuildings', 'events', 'effects', 'bastion_stats', 'log', 'current_population', 'total_population', 'templeDedicated', 'templeDedicatedTo', 'triggeredEvents', 'eventCooldowns', 'feastState', 'boneDevourerState', 'greatFeastState', 'greatFeastActivations', 'miningBoostState', 'combatSkills', 'activatedPurchases', 'feastActivations', 'cruelMode', 'CM', 'BTP', 'attackWaveTimers', 'curseState', 'frostfallState', 'woodcutterState', 'fogState', 'shopNotificationSeen', 'authNotificationSeen', 'authNotificationVisible', 'mysteriousNoteShopNotificationSeen', 'mysteriousNoteDonateNotificationSeen', 'isUserSignedIn', 'detectedCurrency', 'lastResourceSnapshotTime', 'isNewGame', 'allowPlayTimeOverwrite', 'hasMadeNonFreePurchase', 'referralCode', 'referrals', 'referralCount', 'referredUsers', 'social_media_rewards', 'idleModeState', 'sleepUpgrades', 'focus', 'totalFocusEarned', 'focusState', 'huntingSkills', 'buttonUpgrades', 'clickAnalytics', 'unlockedAchievements', 'claimedAchievements', 'username', 'cooldowns', 'merchantTrades', 'timedTabDuration', 'loopProgress', 'isGameLoopActive', 'isPaused', 'isMuted', 'shopNotificationVisible', 'highlightedResources', 'lastFreeGoldClaim', 'compassGlowButton', 'isPausedPreviously', 'versionCheckDialogOpen', 'activeTab', 'devMode', 'lastSaved', 'eventDialog', 'combatDialog', 'timedEventTab', 'authDialogOpen', 'shopDialogOpen', 'leaderboardDialogOpen', 'fullGamePurchaseDialogOpen', 'idleModeDialog', 'inactivityDialogOpen', 'inactivityReason', 'restartGameDialogOpen',¬†‚Ä¶][[Prototype]]: Object
logger.ts:33 v279Z [EVENT MANAGER] Processing merchant event: {choiceId: 'buy_leather_50_very_early', hasMerchantTrades: true, merchantTradesCount: 4, allTradeIds: Array(4), purchasedIds: Array(1)}allTradeIds: (4)¬†['buy_leather_50_very_early', 'buy_food_250_very_early', 'sell_food_100_very_early', 'sell_iron_100_very_early']choiceId: "buy_leather_50_very_early"hasMerchantTrades: truemerchantTradesCount: 4purchasedIds: ['buy_leather_50_very_early'][[Prototype]]: Object
logger.ts:33 v279Z [EVENT MANAGER] Trade already purchased: {choiceId: 'buy_leather_50_very_early'}
logger.ts:33 v279Z [STATE] EventManager.applyEventChoice returned: {choiceId: 'buy_leather_50_very_early', eventId: 'merchant', changes: {‚Ä¶}, hasResources: false, resourceKeys: Array(0)}changes: {}choiceId: "buy_leather_50_very_early"eventId: "merchant"hasResources: falseresourceKeys: [][[Prototype]]: Object
logger.ts:33 v279Z [STATE] State changes after extraction: {choiceId: 'buy_leather_50_very_early', eventId: 'merchant', updatedChanges: {‚Ä¶}, hasResources: false, resourceKeys: Array(0),¬†‚Ä¶}changeCount: 0choiceId: "buy_leather_50_very_early"eventId: "merchant"hasResources: falseresourceKeys: []updatedChanges: {}[[Prototype]]: Object
logger.ts:33 v279Z [STATE] No changes to apply - updatedChanges is empty
logger.ts:33 v279Z [SAVE CLOUD] üìä Resource snapshot includes stats: {hasStats: true, statsKeys: Array(4), snapshotKeys: Array(29)}
logger.ts:33 v279Z [SAVE CLOUD] üîç Playtime overwrite check: {allowPlaytimeOverwrite: false, isNewGame: false, willAllowOverwrite: false, currentPlayTime: 3759713}
logger.ts:33 v279Z [SAVE CLOUD] Edge Function success: {success: true}
logger.ts:33 v279Z [SAVE] ‚úÖ Updated lastCloudState after successful cloud save