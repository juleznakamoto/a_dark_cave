v506Z [GAME PAGE] User authenticated, loading game
logger.ts:33 v506Z [LOAD] üíæ Local save retrieved: {hasLocalSave: true, timestamp: '2025-12-28T16:03:48.236Z', playTime: 2952831.900000071, playTimeMinutes: 49, hasCooldowns: true,¬†‚Ä¶}
logger.ts:33 v506Z [LOAD CLOUD] üìä Loaded from Supabase: {hasData: true, hasReferrals: true, referralsCount: 0, referrals: Array(0), playTime: 2952831,¬†‚Ä¶}
logger.ts:33 v506Z [LOAD] üîç Comparing local and cloud saves: {cloudPlayTime: 2952831, localPlayTime: 2952831, cloudTimestamp: 1766937828377, localTimestamp: 1766937828236}
logger.ts:33 v506Z [LOAD] ‚òÅÔ∏è Cloud save is newer - using cloud save
logger.ts:33 v506Z [REFERRAL] üîç Processing unclaimed referrals... {hasUser: true, hasReferrals: true, referralsCount: 0, referrals: Array(0)}
logger.ts:33 v506Z [REFERRAL] ‚è≠Ô∏è Skipping - no user or no referrals
logger.ts:33 v506Z [LOAD] ‚úÖ Cloud save loaded and synced locally
logger.ts:33 v506Z [GAME] Game loaded from save
logger.ts:33 v506Z [IDLE MODE INIT] Dialog open check: {dialogOpen: false, isActive: false, idleModeState: {‚Ä¶}}
logger.ts:33 v506Z [GAME CONTAINER] Full game dialog closed, state: {BTP: 0, isPaused: false, isPausedPreviously: false}
logger.ts:33 v506Z [VERSION] Initializing version check from GameContainer
logger.ts:33 v506Z [TIMED EVENT PANEL] Merchant event, using stored choices: {eventId: 'merchant', choicesCount: 4, choices: Array(4), merchantTradesFromState: {‚Ä¶}}
logger.ts:33 v506Z [MERCHANT TRADES] Clearing merchant trades (deactivating timed tab)
logger.ts:33 v506Z [TIMED EVENT PANEL] No event, returning empty choices
logger.ts:33 v506Z [MERCHANT TRADES] Generating merchant choices: {knowledge: 8, discount: '0%', numBuyTrades: 2, numSellTrades: 2, filteredBuyTradesCount: 9}
logger.ts:33 v506Z [MERCHANT TRADES] Final choices generated: {totalChoices: 4, buyTrades: 2, sellTrades: 2, choices: Array(4)}
logger.ts:33 v506Z [MERCHANT TRADES] Generating merchant choices: {knowledge: 8, discount: '0%', numBuyTrades: 2, numSellTrades: 2, filteredBuyTradesCount: 9}
logger.ts:33 v506Z [MERCHANT TRADES] Final choices generated: {totalChoices: 4, buyTrades: 2, sellTrades: 2, choices: Array(4)}
logger.ts:33 v506Z [MERCHANT TRADES] Setting timed event tab with merchant trades: {eventId: 'merchant', choicesCount: 4, duration: 240000, expiryTime: 1766938081335}
logger.ts:33 v506Z [TIMED EVENT PANEL] Merchant event, using stored choices: {eventId: 'merchant', choicesCount: 4, choices: Array(4), merchantTradesFromState: {‚Ä¶}}
logger.ts:33 v506Z [TIMED EVENT PANEL] handleChoice called: {choiceId: 'buy_leather_50_early', isMerchantEvent: true, eventChoices: Array(4), merchantTrades: {‚Ä¶}}
state.ts:1380 [STATE] applyEventChoice called: {choiceId: 'buy_leather_50_early', eventId: 'merchant', hasCurrentLogEntry: true, currentLogEntryChoices: Array(4), merchantTradesInState: {‚Ä¶},¬†‚Ä¶}
logger.ts:33 v506Z [EVENT MANAGER] applyEventChoice called: {choiceId: 'buy_leather_50_early', eventId: 'merchant', hasCurrentLogEntry: true, stateKeys: Array(162), hasMerchantTrades: true,¬†‚Ä¶}
logger.ts:33 v506Z [EVENT MANAGER] Full state.merchantTrades: {choices: Array(4), purchasedIds: Array(1)}
logger.ts:33 v506Z [EVENT MANAGER] Processing merchant event: {choiceId: 'buy_leather_50_early', hasMerchantTrades: true, merchantTradesCount: 4, fullMerchantTradesObject: {‚Ä¶}, merchantTradesChoices: Array(4),¬†‚Ä¶}
logger.ts:33 v506Z [EVENT MANAGER] Trade lookup result: {choiceId: 'buy_leather_50_early', foundTrade: false, tradeData: undefined, allAvailableIds: Array(4), allTrades: Array(4)}
logger.ts:33 v506Z [EVENT MANAGER] Merchant trade not found: {choiceId: 'buy_leather_50_early', availableTrades: Array(4)}
logger.ts:33 v506Z [STATE] EventManager.applyEventChoice returned: {choiceId: 'buy_leather_50_early', eventId: 'merchant', changes: {‚Ä¶}, hasResources: false, resourceKeys: Array(0)}
logger.ts:33 v506Z [STATE] State changes after extraction: {choiceId: 'buy_leather_50_early', eventId: 'merchant', updatedChanges: {‚Ä¶}, hasResources: false, resourceKeys: Array(0),¬†‚Ä¶}changeCount: 0choiceId: "buy_leather_50_early"eventId: "merchant"hasResources: falseresourceKeys: []updatedChanges: {}[[Prototype]]: Object
logger.ts:33 v506Z [STATE] No changes to apply - updatedChanges is empty